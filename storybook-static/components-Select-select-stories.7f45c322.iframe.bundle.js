"use strict";(self.webpackChunkrosebush_react=self.webpackChunkrosebush_react||[]).push([[629],{"./src/components/Select/select.stories.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{MultiSelect:()=>MultiSelect,__namedExportsOrder:()=>__namedExportsOrder,default:()=>__WEBPACK_DEFAULT_EXPORT__});var _select__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/components/Select/select.tsx"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/jsx-runtime.js");const __WEBPACK_DEFAULT_EXPORT__={title:"Components/Select",component:_select__WEBPACK_IMPORTED_MODULE_1__.Ay,parameters:{layout:"centered",source:{type:"code"}}},MultiSelect=()=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_select__WEBPACK_IMPORTED_MODULE_1__.Ay,{});MultiSelect.storyName="单选Select",MultiSelect.parameters={...MultiSelect.parameters,docs:{...MultiSelect.parameters?.docs,source:{originalSource:"() => {\n  const subSelect = ['1', '你好', '2', '3'];\n  return <Select />;\n}",...MultiSelect.parameters?.docs?.source}}};const __namedExportsOrder=["MultiSelect"]},"./src/components/Icon/icon.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var classnames__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/classnames/index.js"),classnames__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_0__),_fortawesome_react_fontawesome__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@fortawesome/react-fontawesome/index.es.js"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/react/jsx-runtime.js");const Icon=_ref=>{let{className,theme,...restProps}=_ref;const classes=classnames__WEBPACK_IMPORTED_MODULE_0___default()("rose-icon",className,{["icon-".concat(theme)]:theme});return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_fortawesome_react_fontawesome__WEBPACK_IMPORTED_MODULE_1__.g,{className:classes,...restProps})},__WEBPACK_DEFAULT_EXPORT__=Icon;Icon.__docgenInfo={description:"提供了一套常用的图标集合 基于 react-fontawesome。\r\n\r\n支持 react-fontawesome的所有属性 可以在这里查询 https://github.com/FortAwesome/react-fontawesome#basic\r\n\r\n支持 fontawesome 所有 free-solid-icons，可以在这里查看所有图标 https://fontawesome.com/icons?d=gallery&s=solid&m=free\r\n### 引用方法\r\n\r\n~~~js\r\nimport { Icon } from 'rosebush-react'\r\n~~~",methods:[],displayName:"Icon",props:{theme:{required:!1,tsType:{name:"union",raw:"| 'primary'\r\n| 'secondary'\r\n| 'success'\r\n| 'info'\r\n| 'warning'\r\n| 'danger'\r\n| 'light'\r\n| 'dark'",elements:[{name:"literal",value:"'primary'"},{name:"literal",value:"'secondary'"},{name:"literal",value:"'success'"},{name:"literal",value:"'info'"},{name:"literal",value:"'warning'"},{name:"literal",value:"'danger'"},{name:"literal",value:"'light'"},{name:"literal",value:"'dark'"}]},description:"支持框架主题 根据主题显示不同的颜色"}},composes:["FontAwesomeIconProps"]}},"./src/components/Input/input.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var _Icon_icon__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/components/Icon/icon.tsx"),classnames__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/classnames/index.js"),classnames__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_0__),react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/react/index.js"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/react/jsx-runtime.js");const Input=(0,react__WEBPACK_IMPORTED_MODULE_1__.forwardRef)(((props,ref)=>{const{disabled,size,icon,prepend,append,style,...restProps}=props,classes=classnames__WEBPACK_IMPORTED_MODULE_0___default()("rose-input-wrapper",{["input-size-".concat(size)]:size,"is-disabled":disabled,"input-group":prepend||append,"input-group-append":!!append,"input-group-prepend":!!prepend});var value;return"value"in restProps&&(delete restProps.defaultValue,restProps.value=null==(value=restProps.value)?"":value),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)("div",{className:classes,style,children:[prepend&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)("div",{className:"rose-input-group-prepend",children:prepend}),icon&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)("div",{className:"icon-wrapper",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_Icon_icon__WEBPACK_IMPORTED_MODULE_3__.A,{icon,title:"title-".concat(icon)})}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)("input",{ref,className:"rose-input-inner",disabled,...restProps}),append&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)("div",{className:"rose-input-group-append",children:append})]})})),__WEBPACK_DEFAULT_EXPORT__=Input;Input.__docgenInfo={description:"Input 输入框 通过鼠标或键盘输入内容，是最基础的表单域的包装。\r\n\r\n### 引用方式\r\n~~~js\r\nimport { Input } from 'rosebush-react'\r\n~~~\r\n\r\n支持 HTMLInput 的所有基本属性\r\n\r\n### 组件展示",methods:[],displayName:"Input",props:{disabled:{required:!1,tsType:{name:"boolean"},description:"是否禁用 Input"},size:{required:!1,tsType:{name:"union",raw:"'lg' | 'sm'",elements:[{name:"literal",value:"'lg'"},{name:"literal",value:"'sm'"}]},description:"设置 input 大小，支持 lg 或者是 sm"},icon:{required:!1,tsType:{name:"IconProp"},description:"添加图标，在右侧悬浮添加一个图标，用于提示"},prepend:{required:!1,tsType:{name:"union",raw:"string | React.ReactElement",elements:[{name:"string"},{name:"ReactReactElement",raw:"React.ReactElement"}]},description:"添加前缀 用于配置一些固定组合"},append:{required:!1,tsType:{name:"union",raw:"string | React.ReactElement",elements:[{name:"string"},{name:"ReactReactElement",raw:"React.ReactElement"}]},description:"添加后缀 用于配置一些固定组合"},onChange:{required:!1,tsType:{name:"signature",type:"function",raw:"(e: React.ChangeEvent<HTMLInputElement>) => void",signature:{arguments:[{type:{name:"ReactChangeEvent",raw:"React.ChangeEvent<HTMLInputElement>",elements:[{name:"HTMLInputElement"}]},name:"e"}],return:{name:"void"}}},description:""}},composes:["Omit"]}},"./src/components/Select/select.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Ay:()=>__WEBPACK_DEFAULT_EXPORT__,CW:()=>SelectContext});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),classnames__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/classnames/index.js"),classnames__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_1__),_Input_input__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./src/components/Input/input.tsx"),_Icon_icon__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./src/components/Icon/icon.tsx"),_hooks_useClickOutside__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/hooks/useClickOutside.tsx"),_Transition_transition__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./src/components/Transition/transition.tsx"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/react/jsx-runtime.js");const SelectContext=(0,react__WEBPACK_IMPORTED_MODULE_0__.createContext)({selectedValues:[]}),Select=props=>{const{defaultValue,placeholder,children,multiple,name,disabled,onChange,onVisibleChange}=props,input=(0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null),containerRef=(0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null),containerWidth=(0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(0),[selectedValues,setSelectedValues]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(Array.isArray(defaultValue)?defaultValue:[]),[menuOpen,setOpen]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(!1),[value,setValue]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)("string"==typeof defaultValue?defaultValue:""),handleOptionClick=(value,isSelected)=>{multiple?setValue(""):(setOpen(!1),setValue(value),onVisibleChange&&onVisibleChange(!1));let updatedValues=[value];multiple&&(updatedValues=isSelected?selectedValues.filter((v=>v!==value)):[...selectedValues,value],setSelectedValues(updatedValues)),onChange&&onChange(value,updatedValues)};(0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)((()=>{input.current&&(input.current.focus(),multiple&&selectedValues.length>0?input.current.placeholder="":placeholder&&(input.current.placeholder=placeholder))}),[selectedValues,multiple,placeholder]),(0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)((()=>{containerRef.current&&(containerWidth.current=containerRef.current.getBoundingClientRect().width)})),(0,_hooks_useClickOutside__WEBPACK_IMPORTED_MODULE_3__.A)(containerRef,(()=>{setOpen(!1),onVisibleChange&&menuOpen&&onVisibleChange(!1)}));const passedContext={onSelect:handleOptionClick,selectedValues,multiple},containerClass=classnames__WEBPACK_IMPORTED_MODULE_1___default()("rose-select",{"menu-is-open":menuOpen,"is-disabled":disabled,"is-multiple":multiple});return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)("div",{className:containerClass,ref:containerRef,children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)("div",{className:"rose-select-input",onClick:e=>{e.preventDefault(),disabled||(setOpen(!menuOpen),onVisibleChange&&onVisibleChange(!menuOpen))},children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_Input_input__WEBPACK_IMPORTED_MODULE_4__.A,{ref:input,placeholder,value,readOnly:!0,icon:"angle-down",disabled,name})}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(SelectContext.Provider,{value:passedContext,children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_Transition_transition__WEBPACK_IMPORTED_MODULE_5__.A,{in:menuOpen,animation:"zoom-in-top",timeout:300,children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)("ul",{className:"rose-select-dropdown",children:react__WEBPACK_IMPORTED_MODULE_0__.Children.map(children,((child,i)=>{const childElement=child;if("Option"===childElement.type.displayName)return react__WEBPACK_IMPORTED_MODULE_0__.cloneElement(childElement,{index:"select-".concat(i)});console.error("Warning: Select has a child which is not a Option component")}))})})}),multiple&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)("div",{className:"rose-selected-tags",style:{maxWidth:containerWidth.current-32},children:selectedValues.map(((value,index)=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)("span",{className:"rose-tag",children:[value,(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_Icon_icon__WEBPACK_IMPORTED_MODULE_6__.A,{icon:"times",onClick:()=>{handleOptionClick(value,!0)}})]},"tag-".concat(index))))})]})};Select.defaultProps={name:"rose-select",placeholder:"请选择"};const __WEBPACK_DEFAULT_EXPORT__=Select;Select.__docgenInfo={description:"下拉选择器。\r\n弹出一个下拉菜单给用户选择操作，用于代替原生的选择器，或者需要一个更优雅的多选器时。\r\n### 引用方法\r\n\r\n~~~js\r\nimport { Select } from 'roseship-react'\r\n// 然后可以使用 <Select> 和 <Select.Option>\r\n~~~",methods:[],displayName:"Select",props:{defaultValue:{required:!1,tsType:{name:"union",raw:"string | string[]",elements:[{name:"string"},{name:"Array",elements:[{name:"string"}],raw:"string[]"}]},description:"指定默认选中的条目\t 可以是是字符串或者字符串数组"},placeholder:{required:!1,tsType:{name:"string"},description:"选择框默认文字",defaultValue:{value:"'请选择'",computed:!1}},disabled:{required:!1,tsType:{name:"boolean"},description:"是否禁用"},multiple:{required:!1,tsType:{name:"boolean"},description:"是否支持多选"},name:{required:!1,tsType:{name:"string"},description:"select input 的 name 属性",defaultValue:{value:"'rose-select'",computed:!1}},onChange:{required:!1,tsType:{name:"signature",type:"function",raw:"(selectedValue: string, selectedValues: string[]) => void",signature:{arguments:[{type:{name:"string"},name:"selectedValue"},{type:{name:"Array",elements:[{name:"string"}],raw:"string[]"},name:"selectedValues"}],return:{name:"void"}}},description:"选中值发生变化时触发"},onVisibleChange:{required:!1,tsType:{name:"signature",type:"function",raw:"(visible: boolean) => void",signature:{arguments:[{type:{name:"boolean"},name:"visible"}],return:{name:"void"}}},description:"下拉框出现/隐藏时触发"},children:{required:!1,tsType:{name:"ReactNode"},description:""}}}},"./src/components/Transition/transition.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var react_transition_group__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/react-transition-group/esm/CSSTransition.js"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/jsx-runtime.js");const Transition=_ref=>{let{children,classNames,animation,wrapper,...restProps}=_ref;return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(react_transition_group__WEBPACK_IMPORTED_MODULE_1__.A,{classNames:classNames||animation,...restProps,children:wrapper?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div",{children}):children})};Transition.defaultProps={unmountOnExit:!0,appear:!0};const __WEBPACK_DEFAULT_EXPORT__=Transition;Transition.__docgenInfo={description:"",methods:[],displayName:"Transition",props:{unmountOnExit:{defaultValue:{value:"true",computed:!1},required:!1},appear:{defaultValue:{value:"true",computed:!1},required:!1}}}},"./src/hooks/useClickOutside.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js");const __WEBPACK_DEFAULT_EXPORT__=function useClickOutside(ref,handler){(0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)((()=>{const listener=event=>{ref.current&&!ref.current.contains(event.target)&&handler(event)};return document.addEventListener("click",listener),()=>{document.removeEventListener("click",listener)}}),[ref,handler])}}}]);
(self.webpackChunkrosebush_react=self.webpackChunkrosebush_react||[]).push([[491],{"./src/components/Menu/menu.stories.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{DfaultMenu:()=>DfaultMenu,HorizontalMenu:()=>HorizontalMenu,HorizontalSubMenu:()=>HorizontalSubMenu,VerticalMenu:()=>VerticalMenu,VerticalSubMenu:()=>VerticalSubMenu,__namedExportsOrder:()=>__namedExportsOrder,default:()=>menu_stories});var react=__webpack_require__("./node_modules/react/index.js"),classnames=__webpack_require__("./node_modules/classnames/index.js"),classnames_default=__webpack_require__.n(classnames),jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js");const MenuContext=(0,react.createContext)({index:"0"}),Menu=_ref=>{let{className,mode="horizontal",style,children,defaultIndex="0",onSelect,defaultOpenSubMenus=[]}=_ref;const[currentActive,setActive]=(0,react.useState)(defaultIndex),classes=classnames_default()("rose-menu",className,{"menu-vertical":"vertical"===mode,"menu-horizontal":"vertical"!==mode}),passedContext={index:currentActive||"0",onSelect:index=>{setActive(index),onSelect&&onSelect(index)},mode,defaultOpenSubMenus};return(0,jsx_runtime.jsx)("ul",{className:classes,style,"data-testid":"test-menu",children:(0,jsx_runtime.jsx)(MenuContext.Provider,{value:passedContext,children:react.Children.map(children,((child,index)=>{const childElement=child,{displayName}=childElement.type;if("MenuItem"===displayName||"SubMenu"===displayName)return react.cloneElement(childElement,{index:index.toString()});console.error("Warning: Menu has a child which is not a MenuItem component")}))})})},menu=Menu;Menu.__docgenInfo={description:"为网站提供导航功能的菜单。支持横向纵向两种模式，支持下拉菜单。\r\n\r\n```javascript\r\nimport { Menu } from 'rosebush-react'\r\n\r\n//然后可以使用 Menu.Item 和 Menu.Submenu 访问选项和子下拉菜单组件\r\n```",methods:[],displayName:"Menu",props:{defaultIndex:{required:!1,tsType:{name:"string"},description:"默认 active 的菜单项的索引值",defaultValue:{value:"'0'",computed:!1}},className:{required:!1,tsType:{name:"string"},description:""},mode:{required:!1,tsType:{name:"union",raw:"'horizontal' | 'vertical'",elements:[{name:"literal",value:"'horizontal'"},{name:"literal",value:"'vertical'"}]},description:"菜单类型 横向或者纵向",defaultValue:{value:"'horizontal'",computed:!1}},style:{required:!1,tsType:{name:"ReactCSSProperties",raw:"React.CSSProperties"},description:""},onSelect:{required:!1,tsType:{name:"signature",type:"function",raw:"(selectedIndex: string) => void",signature:{arguments:[{type:{name:"string"},name:"selectedIndex"}],return:{name:"void"}}},description:"点击菜单项触发的回掉函数"},defaultOpenSubMenus:{required:!1,tsType:{name:"Array",elements:[{name:"string"}],raw:"string[]"},description:"设置子菜单的默认打开 只在纵向模式下生效",defaultValue:{value:"[]",computed:!1}},children:{required:!1,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:""}}};const MenuItem=_ref=>{let{index,disabled,className,style,children}=_ref;const context=(0,react.useContext)(MenuContext),classes=classnames_default()("menu-item",className,{"is-disabled":disabled,"is-active":context.index===index});return(0,jsx_runtime.jsx)("li",{className:classes,style,onClick:()=>{context.onSelect&&!disabled&&"string"==typeof index&&context.onSelect(index)},children})};MenuItem.displayName="MenuItem";const menuItem=MenuItem;MenuItem.__docgenInfo={description:"",methods:[],displayName:"MenuItem"};var dist=__webpack_require__("./node_modules/@storybook/test/dist/index.mjs"),icon=__webpack_require__("./src/components/Icon/icon.tsx"),transition=__webpack_require__("./src/components/Transition/transition.tsx");const SubMenu=_ref=>{let{index,title,children,className}=_ref;const context=(0,react.useContext)(MenuContext),openedSubMenus=context.defaultOpenSubMenus,isOpened=!(!index||"vertical"!==context.mode)&&openedSubMenus.includes(index),[menuOpen,setOpen]=(0,react.useState)(isOpened),classes=classnames_default()("menu-item submenu-item",className,{"is-active":context.index===index,"is-opened":menuOpen,"is-vertical":"vertical"===context.mode});let timer;const handleMouse=(e,toggle)=>{clearTimeout(timer),e.preventDefault(),timer=setTimeout((()=>{setOpen(toggle)}),300)},clickEvent="vertical"===context.mode?{onClick:e=>{e.preventDefault(),setOpen(!menuOpen)}}:{},hoverEvents="horizontal"===context.mode?{onMouseEnter:e=>{handleMouse(e,!0)},onMouseLeave:e=>{handleMouse(e,!1)}}:{};return(0,jsx_runtime.jsxs)("li",{className:classes,...hoverEvents,children:[(0,jsx_runtime.jsxs)("div",{className:"submenu-title",...clickEvent,children:[title,(0,jsx_runtime.jsx)(icon.A,{icon:"angle-down",className:"arrow-icon"})]}),(()=>{const subMenuClasses=classnames_default()("rose-submenu",{"menu-opened":menuOpen}),childrenComponent=react.Children.map(children,((child,i)=>{const childElement=child;if("MenuItem"===childElement.type.displayName)return react.cloneElement(childElement,{index:index+"-"+i});console.error("Warning: SubMenu has a child which is not a MenuItem component")}));return(0,jsx_runtime.jsx)(transition.A,{in:menuOpen,timeout:300,animation:"zoom-in-top",children:(0,jsx_runtime.jsx)("ul",{className:subMenuClasses,children:childrenComponent})})})()]},index)};SubMenu.displayName="SubMenu";const subMenu=SubMenu;SubMenu.__docgenInfo={description:"",methods:[],displayName:"SubMenu",props:{index:{required:!1,tsType:{name:"string"},description:""},title:{required:!1,tsType:{name:"string"},description:""},className:{required:!1,tsType:{name:"string"},description:""},children:{required:!1,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:""}}};const menu_stories={title:"Components/Menu",id:"Menu",component:menu,parameters:{layout:"centered",source:{type:"code"}},argTypes:{},args:{onSelect:(0,dist.fn)()}},DfaultMenu=()=>(0,jsx_runtime.jsxs)(menu,{children:[(0,jsx_runtime.jsx)(menuItem,{children:"this is MenuItem1"}),(0,jsx_runtime.jsx)(menuItem,{children:"this is MenuItem2"}),(0,jsx_runtime.jsx)(menuItem,{children:"this is MenuItem3"})]});DfaultMenu.storyName="默认的 Menu";const VerticalMenu=()=>(0,jsx_runtime.jsxs)(menu,{mode:"vertical",children:[(0,jsx_runtime.jsx)(menuItem,{children:"this is MenuItem1"}),(0,jsx_runtime.jsx)(menuItem,{children:"this is MenuItem2"}),(0,jsx_runtime.jsx)(menuItem,{children:"this is MenuItem3"})]});VerticalMenu.storyName="竖直方向的 Menu";const HorizontalMenu=()=>(0,jsx_runtime.jsxs)(menu,{children:[(0,jsx_runtime.jsx)(menuItem,{children:"this is MenuItem1"}),(0,jsx_runtime.jsx)(menuItem,{disabled:!0,children:"this is disabled"}),(0,jsx_runtime.jsx)(menuItem,{children:"this is MenuItem3"})]});HorizontalMenu.storyName="禁止的 Menu";const HorizontalSubMenu=()=>(0,jsx_runtime.jsxs)(menu,{children:[(0,jsx_runtime.jsxs)(subMenu,{title:"this is SubMenu",children:[(0,jsx_runtime.jsx)(menuItem,{children:"SubMenuItem1"}),(0,jsx_runtime.jsx)(menuItem,{children:"SubMenuItem1"})]}),(0,jsx_runtime.jsx)(menuItem,{disabled:!0,children:"this is disabled"}),(0,jsx_runtime.jsx)(menuItem,{children:"this is MenuItem"})]});HorizontalSubMenu.storyName="带下拉菜单的 Menu";const VerticalSubMenu=()=>(0,jsx_runtime.jsxs)(menu,{mode:"vertical",children:[(0,jsx_runtime.jsxs)(subMenu,{title:"this is SubMenu",children:[(0,jsx_runtime.jsx)(menuItem,{children:"SubMenuItem1"}),(0,jsx_runtime.jsx)(menuItem,{children:"SubMenuItem1"})]}),(0,jsx_runtime.jsx)(menuItem,{disabled:!0,children:"this is disabled"}),(0,jsx_runtime.jsx)(menuItem,{children:"this is MenuItem"})]});VerticalSubMenu.storyName="竖直带下拉菜单的 Menu",DfaultMenu.parameters={...DfaultMenu.parameters,docs:{...DfaultMenu.parameters?.docs,source:{originalSource:"() => {\n  return <Menu>\r\n      <MenuItem>this is MenuItem1</MenuItem>\r\n      <MenuItem>this is MenuItem2</MenuItem>\r\n      <MenuItem>this is MenuItem3</MenuItem>\r\n    </Menu>;\n}",...DfaultMenu.parameters?.docs?.source}}},VerticalMenu.parameters={...VerticalMenu.parameters,docs:{...VerticalMenu.parameters?.docs,source:{originalSource:'() => {\n  return <Menu mode="vertical">\r\n      <MenuItem>this is MenuItem1</MenuItem>\r\n      <MenuItem>this is MenuItem2</MenuItem>\r\n      <MenuItem>this is MenuItem3</MenuItem>\r\n    </Menu>;\n}',...VerticalMenu.parameters?.docs?.source}}},HorizontalMenu.parameters={...HorizontalMenu.parameters,docs:{...HorizontalMenu.parameters?.docs,source:{originalSource:"() => {\n  return <Menu>\r\n      <MenuItem>this is MenuItem1</MenuItem>\r\n      <MenuItem disabled>this is disabled</MenuItem>\r\n      <MenuItem>this is MenuItem3</MenuItem>\r\n    </Menu>;\n}",...HorizontalMenu.parameters?.docs?.source}}},HorizontalSubMenu.parameters={...HorizontalSubMenu.parameters,docs:{...HorizontalSubMenu.parameters?.docs,source:{originalSource:'() => {\n  return <Menu>\r\n      <SubMenu title="this is SubMenu">\r\n        <MenuItem>SubMenuItem1</MenuItem>\r\n        <MenuItem>SubMenuItem1</MenuItem>\r\n      </SubMenu>\r\n      <MenuItem disabled>this is disabled</MenuItem>\r\n      <MenuItem>this is MenuItem</MenuItem>\r\n    </Menu>;\n}',...HorizontalSubMenu.parameters?.docs?.source}}},VerticalSubMenu.parameters={...VerticalSubMenu.parameters,docs:{...VerticalSubMenu.parameters?.docs,source:{originalSource:'() => {\n  return <Menu mode="vertical">\r\n      <SubMenu title="this is SubMenu">\r\n        <MenuItem>SubMenuItem1</MenuItem>\r\n        <MenuItem>SubMenuItem1</MenuItem>\r\n      </SubMenu>\r\n      <MenuItem disabled>this is disabled</MenuItem>\r\n      <MenuItem>this is MenuItem</MenuItem>\r\n    </Menu>;\n}',...VerticalSubMenu.parameters?.docs?.source}}};const __namedExportsOrder=["DfaultMenu","VerticalMenu","HorizontalMenu","HorizontalSubMenu","VerticalSubMenu"]},"./node_modules/@storybook/test/dist sync recursive":module=>{function webpackEmptyContext(req){var e=new Error("Cannot find module '"+req+"'");throw e.code="MODULE_NOT_FOUND",e}webpackEmptyContext.keys=()=>[],webpackEmptyContext.resolve=webpackEmptyContext,webpackEmptyContext.id="./node_modules/@storybook/test/dist sync recursive",module.exports=webpackEmptyContext},"./src/components/Icon/icon.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var classnames__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/classnames/index.js"),classnames__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_0__),_fortawesome_react_fontawesome__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@fortawesome/react-fontawesome/index.es.js"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/react/jsx-runtime.js");const Icon=_ref=>{let{className,theme,...restProps}=_ref;const classes=classnames__WEBPACK_IMPORTED_MODULE_0___default()("rose-icon",className,{["icon-".concat(theme)]:theme});return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_fortawesome_react_fontawesome__WEBPACK_IMPORTED_MODULE_1__.g,{className:classes,...restProps})},__WEBPACK_DEFAULT_EXPORT__=Icon;Icon.__docgenInfo={description:"提供了一套常用的图标集合 基于 react-fontawesome。\r\n\r\n支持 react-fontawesome的所有属性 可以在这里查询 https://github.com/FortAwesome/react-fontawesome#basic\r\n\r\n支持 fontawesome 所有 free-solid-icons，可以在这里查看所有图标 https://fontawesome.com/icons?d=gallery&s=solid&m=free\r\n### 引用方法\r\n\r\n~~~js\r\nimport { Icon } from 'rosebush-react'\r\n~~~",methods:[],displayName:"Icon",props:{theme:{required:!1,tsType:{name:"union",raw:"| 'primary'\r\n| 'secondary'\r\n| 'success'\r\n| 'info'\r\n| 'warning'\r\n| 'danger'\r\n| 'light'\r\n| 'dark'",elements:[{name:"literal",value:"'primary'"},{name:"literal",value:"'secondary'"},{name:"literal",value:"'success'"},{name:"literal",value:"'info'"},{name:"literal",value:"'warning'"},{name:"literal",value:"'danger'"},{name:"literal",value:"'light'"},{name:"literal",value:"'dark'"}]},description:"支持框架主题 根据主题显示不同的颜色"}},composes:["FontAwesomeIconProps"]}},"./src/components/Transition/transition.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var react_transition_group__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/react-transition-group/esm/CSSTransition.js"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/jsx-runtime.js");const Transition=_ref=>{let{children,classNames,animation,wrapper,...restProps}=_ref;return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(react_transition_group__WEBPACK_IMPORTED_MODULE_1__.A,{classNames:classNames||animation,...restProps,children:wrapper?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div",{children}):children})};Transition.defaultProps={unmountOnExit:!0,appear:!0};const __WEBPACK_DEFAULT_EXPORT__=Transition;Transition.__docgenInfo={description:"",methods:[],displayName:"Transition",props:{unmountOnExit:{defaultValue:{value:"true",computed:!1},required:!1},appear:{defaultValue:{value:"true",computed:!1},required:!1}}}}}]);